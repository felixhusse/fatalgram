{% extends "base.html" %}
{% load i18n %}

{% block title %}fatalgram - your personal A.I.{% endblock %}

{% block content %}
  <div class="album py-5">
      <div class="container">
          <div class="row infinite-container">
              {% for photo in photos %}
                  <div class="col-md-3 infinite-item">
                      <div class="card mb-4 shadow-sm">
                          <img class="img-thumbnail"  src="{{photo.photo_thumb.url}}"/>
                      </div>
                  </div>
              {% endfor %}
          </div>
          {% if photos.has_next %}
          <a class="infinite-more-link" href="?page={{ photos.next_page_number }}"></a>
          {% endif %}
          <div class="d-flex justify-content-center" style="display:none;">
              <div class="spinner-border" role="status">
                  <span class="sr-only">Loading...</span>
              </div>
          </div>
      </div>
  </div>
  <script>
    var infinite = new Waypoint.Infinite({
        element: $('.infinite-container')[0],
        handler: function(direction) {

    },
    offset: 'bottom-in-view',
    onBeforePageLoad: function () {
    $('.spinner-border').show();
    },
    onAfterPageLoad: function () {
    $('.spinner-border').hide();
    }


    });
  </script>

{% endblock %}
